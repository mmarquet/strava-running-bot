# Discord Bot Configuration
# How to get your Discord Bot Token:
# 1. Go to https://discord.com/developers/applications
# 2. Click "New Application" and give it a name
# 3. Go to the "Bot" section in the left sidebar
# 4. Click "Create Bot" if not already created
# 5. Under "Token" section, click "Copy" to get your bot token
# 6. IMPORTANT: Keep this token secret! It gives full access to your bot
DISCORD_TOKEN=your_discord_bot_token_here

# How to get your Discord Channel ID:
# 1. In Discord, go to User Settings (gear icon)
# 2. Go to "Advanced" and enable "Developer Mode"
# 3. Right-click on the channel where you want the bot to post
# 4. Select "Copy Channel ID"
# 5. Paste the ID here (it should be a long number like: 123456789012345678)
DISCORD_CHANNEL_ID=your_discord_channel_id_here

# Strava API Configuration
# How to get your Strava API credentials:
# 1. Go to https://www.strava.com/settings/api
# 2. Click "Create App" (you need a Strava account)
# 3. Fill in the application details:
#    - Application Name: "Your Bot Name"
#    - Category: "Other"
#    - Club: Leave blank unless you have a specific club
#    - Website: Your website or github repo URL
#    - Authorization Callback Domain: Your server domain (e.g., yourdomain.com)
#      For development, you can use: localhost or 127.0.0.1
# 4. After creation, you'll see your Client ID and Client Secret
STRAVA_CLIENT_ID=your_strava_client_id_here
STRAVA_CLIENT_SECRET=your_strava_client_secret_here

# Webhook Verification Token:
# 1. Generate a random string for webhook security (recommended: 16-32 characters)
# 2. You can generate one with: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
# 3. This token will be used to verify that webhook requests are coming from Strava
# 4. You'll need this token when setting up webhooks with Strava
STRAVA_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token_here

# Server Configuration
PORT=3000
NODE_ENV=development

# Base URL for the bot server (IMPORTANT for production)
# Development: http://localhost:3000
# Production: https://yourdomain.com (your actual domain)
# This URL is used for:
# - Strava OAuth callback
# - Member registration links in Discord
# - Webhook endpoints
BASE_URL=http://localhost:3000

# Logging Configuration
# Available levels: ERROR, WARN, INFO, DEBUG
# ERROR: Only errors and critical issues
# WARN: Warnings and errors
# INFO: General information, warnings and errors (recommended for production)
# DEBUG: All messages including detailed debug info (recommended for development)
LOG_LEVEL=INFO

# Activity Posting Delay
# Time to wait before posting activities to Discord (in minutes)
# This allows runners to edit their activities on Strava before they appear in Discord
# Set to 0 to disable delay and post immediately
# Default: 15 minutes
#
# PRIVACY FILTERING: The bot automatically filters out:
# - Private activities (activity.private = true)
# - Followers-only activities (activity.visibility = 'followers_only') 
# - Activities hidden from home feed (activity.hide_from_home = true)  
# - Flagged activities (activity.flagged = true)
# - Activities older than 24 hours (only for webhook posting, not /last command)
# - Activities shorter than 1 minute
# - Activities with no distance (manual entries)
#
# Note: Only FULLY PUBLIC activities are posted/displayed
# Privacy filtering applies to BOTH webhook posting AND /last command
# The /last command can show older activities but still respects privacy settings
POST_DELAY_MINUTES=15

# Security
# Encryption Key for secure storage of member tokens
# Generate a 32-character (64 hex) encryption key with:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# This key is used to encrypt/decrypt Strava tokens stored in the database
# IMPORTANT: Keep this key secret and don't change it after setup (you'll lose encrypted data)
ENCRYPTION_KEY=your_32_character_encryption_key_here

# Optional: Database Configuration (if using external DB later)
# DATABASE_URL=your_database_url_here

# GIPHY API Key (optional, for fun features)
# Get a free API key from https://developers.giphy.com/
GIPHY_API_KEY=your_giphy_api_key_here 